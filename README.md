# 要求
### 描述
领域特定语言（Domain Specific Language，DSL）可以提供一种相对简单的文法，用于特定领域的业务流程定制。本作业要求定义一个领域特定脚本语言，这个语言能够描述在线客服机器人（机器人客服是目前提升客服效率的重要技术，在银行、通信和商务等领域的复杂信息系统中有广泛的应用）的自动应答逻辑，并设计实现一个解释器解释执行这个脚本，可以根据用户的不同输入，根据脚本的逻辑设计给出相应的应答。

### 基本要求
- 脚本语言的语法可以自由定义，只要语义上满足描述客服机器人自动应答逻辑的要求。

- 程序输入输出形式不限，可以简化为纯命令行界面。

- 应该给出几种不同的脚本范例，对不同脚本范例解释器执行之后会有不同的行为表现。
### 评分标准
本作业考察学生规范编写代码、合理设计程序、解决工程问题等方面的综合能力。满分100分，具体评分标准如下：

- 风格：满分15分，其中代码注释6分，命名6分，其它3分。

- 设计和实现：满分30分，其中数据结构7分，模块划分7分，功能8分，文档8分。

- 接口：满分15分，其中程序间接口8分，人机接口7分。

- 测试：满分30分，测试桩15分，自动测试脚本15分

- 记法：满分10分，文档中对此脚本语言的语法的准确描述。

注意：抄袭或有意被抄袭均为0分

# 语法规则
### 关键字
* 类型关键字
    ```
    有数曰 有言曰 有爻曰
    ```
* 赋值关键字
    ```
    为 也
    ```
* 运算关键字
    ```
    加 减 乘 除
    ```
* 条件循环关键字
    ```
    若 则 非者 凡 终 者 若为
    ```
* 逻辑关键字
    ```
    同 且 或 小 大 非同 非大 非小
    ```
* 函数关键字
    ```
    曰
    ```
### Token对应表
```TXT
有数曰 --> float
有言曰 --> string
有爻曰 --> bool
为 --> =
也 --> =_
加 --> +
减 --> -
乘 --> *
除 --> /
若 --> if
若为 --> case
则 --> then
凡 --> while
终 --> end
者 --> switch
同 --> == 
且 --> and
或 --> or
小 --> <
大 --> >
非同 --> != 
非大 --> <=
非小 --> >= 
非者 --> else 
曰 --> print
阴 --> false
阳 --> true
！ --> !
： --> :
， --> ,
。 --> .
； --> ;
“……” --> str # 代表字符串实例
数字 --> num
```
### 语法规则
* 每条语句以`。`结束
* 声明语句\
`类型关键字`：变量名\
`类型关键字`：变量名`为`数值\
`类型关键字`：变量名1`为`数值1，变量名2`为`数值2，……，变量名n`为`数值n。
    ```
    有数曰：苹果为3，香蕉为4。
    有言曰：询问为“1234”。
    有爻曰：真为阳，假为阴。
    ```
* 赋值语句\
变量名`为`数值。\
变量名`运算符也`。
    ```
    有数曰：苹果。
    苹果为3。
    苹果加3也。
    ```
    //最后苹果的值为6
* 算数运算语句（表达式语句）\
其中不能有赋值语句和声明语句

* 命题语句
    ```
    同 非 且 或 小 大
    ```
    `a同b`：判断a是否等于b\
    `a小b`：判断a是否小于b\
    `a大b`：判断a是否大于b\
    `P(x)且G(y)`：判断命题P(x)和命题G(y)是否同时成立\
    `P(x)或G(y)`：判断命题P(x)和命题G(y)是否有一个成立\
    `非`：表示不，可用用来和其他逻辑关键字组合\
    `a非同b`：判断a是否不等于b\
    `a非大b`：判断a是否小于等于b\
    `a非小b`：判断a是否大于等于b\
    其中a和b为表达式\
    判断结果为真返回阳，为假返回阴

* 条件和分支\
`若`P(x)，`则`：a终；`非者`：b终！
    ```
    若1加1同2，则：
    苹果加1也。终；
    非者：苹果减1也。终！
    ```
    如果1+1等于2，那么苹果这个变量加1，否则苹果减1。\
    变量名`者`：`若为`a，`则`：A`终`；`若为`b，`则`：B终！
    ```
    苹果者：
    若为1，则：……终；
    若为2，则：……终！
    ```
* 循环\
`凡`P(X)，`则`：a终！
```
凡苹果非同1，则：苹果减1也。终！
```
* 打印
```
曰：“此乃妙哉”。
```
* 注释\
\# 注释一行
* 字符串\
字符串放在“ ”里面，如果“ ”里面又出现了“”，那么需要成对出现。
    ```
    “他说：“你好”” # 这样是允许的
    “他说：你好”” # 这样是不允许的，这样只会匹配“他说：你好”并且会报错
    “他说：“你好” # 这样也是不允许的，这样只会一直匹配到文末，从第一个“开始后面的都是字符串
    ```
